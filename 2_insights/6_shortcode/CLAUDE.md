# 요약코드(Shortcode) 인사이트

Top24/Mid14/Rest7 세그먼트별 적중 패턴 분석

## 요약코드 형식

`ABCDEF` (6자리)
- **ABC**: Ord 세그먼트별 적중 수 (Top24/Mid14/Rest7)
- **DEF**: Ball 세그먼트별 적중 수 (Top24/Mid14/Rest7)

예: `420321` = Ord(4,2,0) + Ball(3,2,1)

## Ord vs Ball 계산 방식

| 구분 | 입력값 | 세그먼트 체크 |
|------|--------|---------------|
| Ord (ABC) | 당첨번호 (예: 12,16,19,28,33,42) | Ord 세그먼트 |
| Ball (DEF) | 당첨번호 위치의 o값 (o12,o16,o19,o28,o33,o42) | Ball 세그먼트 |

- Ord: 당첨번호 자체가 세그먼트 어디에 속하는지
- Ball: 당첨번호 위치의 o1~o45 컬럼 값이 세그먼트 어디에 속하는지

## 세그먼트 정의

| 세그먼트 | 설명 | 크기 |
|----------|------|------|
| Top24 | 최근 10회 빈도 상위 24개 | 24 |
| Mid14 | 중간 빈도 14개 | 14 |
| Rest7 | 하위 빈도 7개 | 7 |

## 실행

```bash
# 백테스트 (회차별 숏코드 + 출현 회차)
python backtest_shortcode.py

# 기존 generate (백테스트 결과 필요)
python generate.py
```

## 출력 파일 (statistics/)

| 파일 | 설명 |
|------|------|
| shortcode_by_round.csv | 각 회차별 숏코드 상세 |
| shortcode_rounds.csv | 각 숏코드별 출현 회차 목록 |
| full_code_distribution.csv | 전체 6자리 코드 분포 |
| ord_code_distribution.csv | Ord 3자리 코드 분포 |
| ball_code_distribution.csv | Ball 3자리 코드 분포 |
| segment_distribution.csv | 각 세그먼트별 개수 분포 |

## 주요 통계

- **분석 회차**: 378회 (827회차부터)
- **고유 요약코드**: 163개
- **Ord≠Ball**: 91% (344회)
- **Ord=Ball**: 9% (34회)

## 가장 빈번한 요약코드

| 순위 | 코드 | 빈도 | 비율 | 설명 |
|------|------|------|------|------|
| 1 | 321321 | 15회 | 4.0% | Ord(3,2,1) Ball(3,2,1) |
| 2 | 420321 | 11회 | 2.9% | Ord(4,2,0) Ball(3,2,1) |
| 3 | 321231 | 10회 | 2.6% | Ord(3,2,1) Ball(2,3,1) |
| 4 | 330321 | 9회 | 2.4% | Ord(3,3,0) Ball(3,2,1) |
| 5 | 321420 | 7회 | 1.9% | Ord(3,2,1) Ball(4,2,0) |

## 핵심 발견

### Ord 코드 패턴
- 321, 420, 411, 330이 빈번
- Top24에서 3~4개 선택이 적중률 높음

### Ball 코드 패턴
- 321이 가장 빈번 (압도적)
- 330, 411, 231도 자주 출현

### Ord vs Ball 관계
- 91%의 회차에서 Ord≠Ball
- Ball 코드가 321인 경우가 가장 많음 (Ord와 무관하게)

### 예측 활용
- Top24에서 3~4개 선택이 적중률 높음
- Rest7에서 0~1개가 대부분
- Ball 코드 321 패턴 주목
